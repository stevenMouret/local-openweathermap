"use strict";var _createClass=function(){function s(t,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,a,i){return a&&s(t.prototype,a),i&&s(t,i),t}}();function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var Weather=function(){function V(t,a){var i=a.weatherType,s=void 0===i?"forecast":i,e=a.appid,n=void 0!==e&&e,h=a.jsonPath,r=void 0!==h&&h,l=a.lang,o=void 0===l?"en":l,c=a.cityId,p=a.units,d=void 0===p?"metric":p,g=a.icoPath,m=void 0===g?"https://openweathermap.org/img/w/":g,u=a.icoFormat,y=void 0===u?"png":u,v=a.icoWidth,w=void 0===v?50:v,_=a.icoHeight,T=void 0===_?50:_,f=a.forecastDays,M=void 0===f?3:f,W=a.langTempMax,b=void 0===W?"Maximum temperature":W,S=a.langTempMin,x=void 0===S?"Minimum temperature":S,k=a.langTo,A=void 0===k?"to":k,F=a.langToday,P=void 0===F?"Today":F,D=a.langWeather,j=void 0===D?"Weather":D,C=a.langWind,H=void 0===C?"Wind":C,K=a.langMonday,O=void 0===K?"Monday":K,U=a.langTuesday,I=void 0===U?"Tuesday":U,q=a.langWednesday,L=void 0===q?"Wednesday":q,E=a.langThursday,J=void 0===E?"Thursday":E,N=a.langFriday,z=void 0===N?"Friday":N,B=a.langSaturday,G=void 0===B?"Saturday":B,Q=a.langSunday,R=void 0===Q?"Sunday":Q;_classCallCheck(this,V),this.weatherSelector=t,this.weatherType=s,this.appid=n,this.jsonPath=r,this.lang=o,this.cityId=c,this.units=d,this.icoPath=m,this.icoFormat=y,this.icoWidth=w,this.icoHeight=T,this.forecastDays=M,this.langTempMax=b,this.langTempMin=x,this.langTo=A,this.langToday=P,this.langWeather=j,this.langWind=H,this.langMonday=O,this.langTuesday=I,this.langWednesday=L,this.langThursday=J,this.langFriday=z,this.langSaturday=G,this.langSunday=R,document.querySelector(t)&&(this.appid||this.jsonPath)&&this.cityId&&self.fetch&&(this.jsonPath?this.baseApiUrl=this.jsonPath:this.appid&&(this.baseApiUrl="https://api.openweathermap.org/data/2.5/"+this.weatherType+"?id="+c+"&lang="+this.lang+"&units="+this.units+"&appid="+this.appid),console.log(this.baseApiUrl),this.app=document.querySelector(this.weatherSelector),this.unitsAbbr="metric"===this.units?"°C":"°F",this.getData())}return _createClass(V,[{key:"getData",value:function(){var a=this;fetch(this.baseApiUrl).then(function(t){return t.json()}).then(function(t){a.typeOfWeather(t)}).catch(function(t){console.log("The JSON file could not be found. "),console.log(t)})}},{key:"typeOfWeather",value:function(t){"weather"===this.weatherType?this.currentWeather(t):"forecast"===this.weatherType&&this.forecastWeather(t)}},{key:"currentWeather",value:function(t){var a=t.name,i=t.main.temp_max,s=t.main.temp_min,e=t.wind.speed,n=t.weather[0].icon,h=t.weather[0].description,r='\n            <article>\n                <p class="weather__icon"><img src="'+this.icoPath+n+"."+this.icoFormat+'" alt="'+h+'" width="'+this.icoWidth+'" height="'+this.icoHeight+'"></p>\n                <p class="weather__temp-max"><span class="ghost">'+this.langTempMax+"</span> "+i+this.unitsAbbr+'</p>\n                <p class="weather__temp-min"><span class="ghost">'+this.langTempMin+"</span> "+s+this.unitsAbbr+'</p>\n                <p class="weather__wind"><span class="ghost">'+this.langWind+"</span> "+this.convertMsToKmh(e)+" km/h</p>\n            </article>\n        ";this.app.innerHTML='\n            <div class="weather__wrapper">\n                <h2 class="ghost">'+this.langWeather+' <span class="ghost">'+this.langTo+" "+a+'</span></h2>\n                <div class="weather__listitems">\n                    '+r+"\n                </div>\n            </div>\n        "}},{key:"convertMsToKmh",value:function(t){var a=3.6*parseFloat(t);return Math.ceil(a)}},{key:"forecastWeather",value:function(t){for(var a=t.city.name,i=Math.ceil(t.list[0].main.temp_max),s=Math.ceil(t.list[0].main.temp_min),e=t.list[0].wind.speed,n=t.list[0].weather[0].icon,h=t.list[0].weather[0].description,r='\n            <article class="weather__item">\n                <h3 class="weather__title">'+this.langToday+'</h3>\n                <p class="weather__icon"><img src="'+this.icoPath+n+"."+this.icoFormat+'" alt="'+h+'" width="'+this.icoWidth+'" height="'+this.icoHeight+'"></p>\n                <p class="weather__temp-max"><span class="ghost">'+this.langTempMax+"</span> "+i+this.unitsAbbr+'</p>\n                <p class="weather__temp-min"><span class="ghost">'+this.langTempMin+"</span> "+s+this.unitsAbbr+'</p>\n                <p class="weather__wind"><span class="ghost">'+this.langWind+"</span> "+this.convertMsToKmh(e)+" km/h</p>\n            </article>\n        ",l=[],o=[],c=[this.langSunday,this.langMonday,this.langTuesday,this.langWednesday,this.langThursday,this.langFriday,this.langSaturday],p=c[(new Date).getDay()],d=0;d<t.list.length;d++){var g=1e3*t.list[d].dt,m=new Date(g),u=c[m.getDay()];if(13===m.getHours()&&u!==p){var y=Math.ceil(t.list[d].main.temp_max),v=Math.ceil(t.list[d].main.temp_min),w=t.list[d].wind.speed,_=t.list[d].weather[0].icon,T=t.list[d].weather[0].description,f='\n                    <article class="weather__item">\n                        <h3 class="weather__title">'+u+'</h3>\n                        <p class="weather__icon"><img src="'+this.icoPath+_+"."+this.icoFormat+'" alt="'+T+'" width="'+this.icoWidth+'" height="'+this.icoHeight+'"></p>\n                        <p class="weather__temp-max"><span class="ghost">'+this.langTempMax+"</span> "+y+this.unitsAbbr+'</p>\n                        <p class="weather__temp-min"><span class="ghost">'+this.langTempMin+"</span> "+v+this.unitsAbbr+'</p>\n                        <p class="weather__wind"><span class="ghost">'+this.langWind+"</span> "+this.convertMsToKmh(w)+" km/h</p>\n                    </article>\n                ";l.push(f)}}for(var M=0;M<this.forecastDays;M++)o.push(l[M]);var W=o.join(" ");this.app.innerHTML='\n            <div class="weather__wrapper">\n                <h2 class="ghost">'+this.langWeather+' <span class="ghost">'+this.langTo+" "+a+'</span></h2>\n                <div class="weather__listitems">\n                    '+r+"\n                    "+W+"\n                </div>\n            </div>\n        "}}]),V}();